<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced 3D Donut Chart with Highcharts</title>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/3d.js"></script>
</head>
<body>

    <h1>Enhanced 3D Research Breakdown</h1>
    <div id="container" style="width: 100%; height: 600px;"></div>

    <script>
        Highcharts.chart('container', {
            chart: {
                type: 'pie',
                options3d: {
                    enabled: true,
                    alpha: 45,  // Elevation angle
                    beta: 0,    // Rotation angle
                    depth: 100, // Depth of 3D effect
                },
                spacing: [10, 10, 10, 10] // Optional: spacing around the chart
            },
            title: {
                text: 'Research Breakdown (3D Donut Chart)'
            },
            plotOptions: {
                pie: {
                    innerSize: '40%',  // Makes the donut shape
                    depth: 70,         // Depth of the pie chart
                    slicedOffset: 20,  // Offset for exploded slice
                    dataLabels: {
                        enabled: true,
                        format: '{point.name}: {point.percentage:.1f}%', // Show percentage
                        style: {
                            fontWeight: 'bold',
                            color: 'white'
                        }
                    }
                }
            },
            series: [{
                name: 'Research Categories',
                data: [
                    { name: 'Data Science Techniques', y: 30, color: '#1f77b4', sliced: true },
                    { name: 'Machine Learning Techniques', y: 40, color: '#ff7f0e' },
                    { name: 'AI Techniques', y: 20, color: '#2ca02c' },
                    { name: 'Interdisciplinary Applications', y: 10, color: '#d62728' }
                ]
            }, {
                name: 'Data Science Subsections',
                data: [
                    { name: 'Data Collection', y: 5, color: '#ff9999', parent: 0 },
                    { name: 'Preprocessing', y: 5, color: '#66b3ff', parent: 0 },
                    { name: 'Feature Extraction', y: 5, color: '#99ff99', parent: 0 }
                ],
                linkedTo: ':previous',  // Link to first series (main sections)
                innerSize: '60%',       // Inner donut for subcategories
                depth: 50,              // Depth for the inner donut (subsections)
                slicedOffset: 10       // Slightly exploded sections
            }],
            tooltip: {
                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
            },
            responsive: {
                rules: [{
                    condition: {
                        maxWidth: 600
                    },
                    chartOptions: {
                        chart: {
                            spacingTop: 10,
                            spacingBottom: 10
                        },
                        plotOptions: {
                            pie: {
                                dataLabels: {
                                    style: {
                                        fontSize: '10px'
                                    }
                                }
                            }
                        }
                    }
                }]
            }
        });
    </script>

</body>
</html>
